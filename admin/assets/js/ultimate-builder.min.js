!function(t){"use strict";function e(){t("#ultimate-builder-kit-builder-modal").show()}function a(){t("#ultimate-builder-kit-builder-modal form")[0].reset(),t("#ultimate-builder-kit-builder-modal form .template_id").val("")}function i(e){t("#ultimate-builder-kit-builder-modal form .usk-modal-submit-btn").val(e)}function l(e){t(".input-error").removeClass("input-error")}t(document).on("click","#ultimate-builder-kit-builder-modal .usk-modal-close-button",(function(e){t("#ultimate-builder-kit-builder-modal").hide()})),t(document).on("click","body.post-type-usk-template-builder a.page-title-action",(function(t){t.preventDefault(),a(),i("Create Template"),e()})),t(document).on("submit","#ultimate-builder-kit-builder-modal form",(function(e){e.preventDefault();var a=t(this).serialize();l(),t.ajax({url:ajaxurl,dataType:"json",method:"post",cache:!1,data:{action:"ultimate_store_kit_builder_create_template",data:a},success:function(t){window.location.href=t.data.redirect},error:function(e){422==e.status&&t.each(e.responseJSON.data.errors_arr,(function(e,a){t("#ultimate-builder-kit-builder-modal #"+e).addClass("input-error")}))}})})),t(document).on("click","body.post-type-usk-template-builder .row-actions .usk-edit-action a",(function(u){u.preventDefault(),l(),a(),i("Update Template"),t.ajax({url:ajaxurl,dataType:"json",method:"post",data:{action:"ultimate_store_kit_builder_get_edit_template",template_id:t(this).data("id")},success:function(a){a.success&&(t("#ultimate-builder-kit-builder-modal form .template_id").val(a.data.id).change(),t("#ultimate-builder-kit-builder-modal form #template_name").val(a.data.name).change(),t("#ultimate-builder-kit-builder-modal form #template_type").val(a.data.type).change(),t("#ultimate-builder-kit-builder-modal form #template_status").val(a.data.status).change()),e()},error:function(t){console.log(t),t.status}})}))}(jQuery);